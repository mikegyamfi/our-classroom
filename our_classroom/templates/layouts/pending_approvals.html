{% extends 'base.html' %}

{% block title %}
	Pending Approvals
{% endblock %}

{% block content %}
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        {% include 'inc/sideNav.html' %}

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          {% include 'inc/navbar.html' %}

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
              <div class="container-xxl flex-grow-1 container-p-y">
                  <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Pending Approvals ({{ class }})</span></h4>

                  <!-- Basic Bootstrap Table -->
              <div class="card p-3">
                <h5 class="card-header px-0 pt-2 pb-4">Unapproved Students</h5>
                <div class="table-responsive text-nowrap">
                  <table class="table" id="dataTable">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Student Class</th>
                        <th>Actions</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
                    {% for student in students %}
                      <tr>
                        <td><strong>{{ student.student_id }}</strong></td>
                        <td>{{ student.first_name }} {{ student.last_name }}</td>
                        <td>{{ student.email }}</td>
                        <td>{{ student.student_class }}</td>
                        <td><a onclick="function approveClicked() {
                            let btn = $('.approve-btn')
                            btn.text('Approving')
                        }
                        approveClicked()" href="{% url 'approve_student' pk=student.id %}" class="btn btn-sm btn-success approve-btn">Approve</a></td>
                        <td><a href="{% url 'deny_student' pk=student.id %}" class="btn btn-sm btn-danger">Decline</a></td>
                      </tr>
                    {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
              <!--/ Basic Bootstrap Table -->
              </div>
          </div>
        </div>
      </div>
    </div>
{% endblock content %}